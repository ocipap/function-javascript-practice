<script src="../fx.js"></script>

<script>
  // _.go(
  //   L.range(10),
  //   L.map(_.delay(500)),
  //   L.filter(a => a % 2),
  //   L.take(5),
  //   _.each(console.log))

  console.clear()
</script>

takeWhile, takeUntil

<script>
  _.go(
    [1, 2, 3, 4, 5, 6, 7, 8, 0, 0, 0],
    _.takeWhile(a => a),
    _.each(console.log),
  )

  _.go(
    [1, 2, 3, 4, 5, 6, 7, 8, 0, 0, 0],
    _.takeUntil(a => !a),
    _.each(console.log),
  )
  console.clear()
</script>

할 일들을 이터러블로 바라보기

<script>
  const track = [
    { cars: ['a', 'b', 'c', 'd'] },
    { cars: ['A', 'B', 'C', 'D'] },
    { cars: ['q', 'w', 'e', 'r'] },
    { cars: ['Q', 'W', 'E', 'R'] },
    { cars: ['o', 'p'] },
    { cars: [] },
  ]

  _.go(
    L.range(Infinity),
    L.map(i => track[i]),
    L.map(({cars}) => cars),
    L.map(_.delay(500)),
    //L.takeWhile(({length: l}) => l === 4),
    L.takeUntil(({length: l}) => l < 4),
    L.flat,
    L.map(u => `${u} 출발!`),
    _.each(console.log)
  )

  console.clear()

</script>

